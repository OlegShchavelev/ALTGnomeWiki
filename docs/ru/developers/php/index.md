# PHP

PHP — популярный интерпретируемый (скриптовый) язык программирования. Широко используется в веб-разработке как для создания сайтов, так и для реализации API различных сервисов.

## Установка из репозитория

В репозитории Сизиф имеется несколько версий **PHP**. При установке следует указывать конкретную версию.

**PHP** можно установить через терминал:

::: code-group

```shell[apt-get]
su -
apt-get update
apt-get install php8.3
```

```shell[epm]
epm -i php8.3
```

:::

Проверить установленную версию PHP, используя следующую команду:

```shell
php -v
```

## Установка и использование сервиса PHP-FPM

Как правило веб-приложения используют PHP в виде сервиса PHP-FPM. Поэтому рекомендуется установить и его:

::: code-group

```shell[apt-get]
su -
apt-get update
apt-get install php8.3-fpm-fcgi
```

```shell[epm]
epm -i php8.3-fpm-fcgi
```

:::

### Управление сервисом PHP-FPM

Включить автоматический запуск сервиса при старте системы и запускаем:

```shell
systemctl enable --now php8.3-fpm
```

Проверить статус работы сервиса:

```shell
systemctl status php8.3-fpm
```

### Важное замечание на примере работы с фреймворком Laravel

Конфигурационные файлы для встроенного в php веб-сервера при установке пакетов автоматически не создаются. В результате встроенный веб-сервер работает некорректно. В частности, невозможно использовать фреймворк Laravel в режиме разработки. Необходимо создать конфигурационные файлы вручную.

Для этого можно, к примеру:

создать директорию `/etc/php/8.3/cli-server`

```shell
mkdir /etc/php/8.3/cli-server
```

и скопировать туда содержимое директории `/etc/php/8.3/cli`

```shell
cp -r /etc/php/8.3/cli/* /etc/php/8.3/cli-server
```

**либо**

создать символьную ссылку, чтобы в случае изменений в конфигурации CLI их автоматически видел встроенный веб-сервер

```shell
ln -s /etc/php/8.3/cli /etc/php/8.3/cli-server
```
