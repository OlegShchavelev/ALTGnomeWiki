# Ядро

::: details Ядра `std-def` и `un-def`

С образом ALT Regular Gnome (с версии `20231122`) поставляется ядро следующих версии флейворов (flavour): `un-def` и `std-def`

- `std-def` — стабильное LTS-ядро (Long-term Support)
- `un-def` — стабильное IR-ядро (Interim Releases)

::: warning
Данные ядра больше не поддерживаются. Рекомендуется перейти на ядро `6.6` или `6.12` по инструкции из пункта [«Переключить ветку ядра»](#переключить-ветку-ядра)
:::

С образом ALT Regular Gnome (с версии `20241031`) поставляется c флейвором ядра `6.12`, однако можно также переключиться на LTS-версию — `6.6`.

Ядро содержит внешние модули, расширяющие функциональность или добавляющие поддержку нового оборудования.

## Управление модулями ядра

Для поиска модулей ядра введите в терминале следующую команду:

```shell
rpm -qa | grep -E '^kernel-modules-'
```

::: details Вывод модулей ядра 6.12

```shell
kernel-modules-staging-6.12-6.12.9-alt1.x86_64
kernel-modules-drm-6.12-6.12.9-alt1.x86_64
kernel-modules-drm-nouveau-6.12-6.12.9-alt1.x86_64
```

:::

Удалить модуль на примере модуля `kernel-modules-drm-nouveau`:

```shell
su -
rpm -e --allmatches kernel-modules-drm-nouveau-6.12-6.12.9-alt1.x86_64
```

## Обновление ядер

Обновить текущее ядро можно через терминал:

```shell
su -
update-kernel
```

После успешного обновления ядра и модулей перезагрузите операционную систему.

::: info
`update-kernel` обновляет в том числе и модули ядра. Утилита выведет список обновляемых модулей, необходимо подтвердить операцию в терминале набрав `Y`
:::

Обновить выбранную ветку ядра в системе через интерфейс ЦУС:

- Откройте ЦУС и ввести пароль администратора
- Перейдите в раздел `Обновить ядро`
- Нажмите кнопку `Обновить ядро`

![Kernel](/kernel/kernel-1.png)

После успешного обновления ядра и модулей перезагрузите операционную систему.

## Переключить ветку ядра

Если ветка ядра не установлена в системе, то переключить его можно только через терминал:

```shell
su -
update-kernel -t 6.12
```

Если ветка установлена (с версии `20231122`), то изменить ветку по умолчанию можно через ЦУС:

- Откройте ЦУС и ввести пароль администратора
- Перейдите в раздел `Обновить ядро`
- Выберите ядро в списке `Установленные ядра`
- Нажмите кнопку `Сделать ядро загружаемым по умолчанию`

![Kernel](/kernel/kernel-2.png)

## Удаление старых версий ядра:

```shell
su -
remove-old-kernels
```
